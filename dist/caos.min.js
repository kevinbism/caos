"use strict";const defaults={init:!0,offset:500,delay:0,easing:"ease",duration:400,once:!0,animatedClassName:"caos-animate",disableMobile:!1,matchMedia:"768px"};class Caos{constructor(a){this.options={...defaults,...a};const b=!this.options.disableMobile||checkIsDesktop()&&window.matchMedia(`(min-width: ${this.options.matchMedia})`).matches;this.options.init&&b?(this.initCaos(),this.setOptions()):this.destroy()}initCaos=()=>{const a={root:null,rootMargin:"0px",threshold:this.options.offset/1e3},b=new IntersectionObserver(this.visible,a),c=document.querySelectorAll("[data-caos]");for(const a of c)b.observe(a)};visible=a=>{a.map(a=>{const b=getEl(a.target);applyCustomOptions(b),a.isIntersecting?a.target.classList.add(this.options.animatedClassName):!this.options.once&&a.target.classList.remove(this.options.animatedClassName)})};setOptions=()=>{const a=this.options.duration,b=this.options.delay,c=this.options.easing,d=getEl("body");d.style.cssText+=[`--caos-duration: ${a}ms`,`--caos-delay: ${b}ms`,`--caos-easing: ${c}`].join("; ")};destroy=()=>{const a=document.querySelectorAll("[data-caos]");for(const b of a)b.removeAttribute("data-caos")}}function checkIsDesktop(){const a=navigator.userAgent.toLowerCase(),b=/iphone|ipad|ipod|android|blackberry|windows phone/g.test(a);return!b}function getEl(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return"string"==typeof a?b.querySelector(a):a}function applyCustomOptions(a){const b=a.dataset.caosDuration,c=a.dataset.caosDelay,d=a.dataset.caosEasing,e=[];b&&e.push(`--caos-duration: ${b}ms`),c&&e.push(`--caos-delay: ${c}ms`),d&&e.push(`--caos-easing: ${d}`),a.style.cssText+=e.join("; ")}